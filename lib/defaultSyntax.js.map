{"version":3,"file":"defaultSyntax.js","names":["_july","require","PROCESSOR_PREFIX","JS_VALUE_TOKEN","JS_TEMPLATE_TOKEN","JS_SWIG_TOKEN","esTemplateSetting","interpolate","swigTemplateSetting","processors","str","variables","Function","trim","_","template","_default","prefix","exports","default","module"],"sources":["../src/defaultSyntax.js"],"sourcesContent":["import { _ } from '@genx/july';\n\nconst PROCESSOR_PREFIX = '#!';\n\n// syntax: <PROCESSOR_PREFIX><TOKEN>:\n\nconst JS_VALUE_TOKEN = 'jsv';\nconst JS_TEMPLATE_TOKEN = 'jst';\nconst JS_SWIG_TOKEN = 'swig';\n\nconst esTemplateSetting = {\n    interpolate: /\\$\\{([\\s\\S]+?)\\}/g,\n};\n\nconst swigTemplateSetting = {\n    interpolate: /{{([\\s\\S]+?)}}/g,\n};\n\nconst processors = {\n    [JS_VALUE_TOKEN]: (str, variables) => {\n        // eslint-disable-next-line no-new-func\n        return new Function('v', 'with (v) { return (' + str + ')}')(variables);\n    },\n    [JS_TEMPLATE_TOKEN]: (str, variables) => {\n        str = str.trim();\n        if (str) {\n            return _.template(str, esTemplateSetting)(variables);\n        }\n\n        return str;\n    },\n    [JS_SWIG_TOKEN]: (str, variables) => {\n        str = str.trim();\n        if (str) {\n            return _.template(str, swigTemplateSetting)(variables);\n        }\n\n        return str;\n    },\n};\n\nexport default {\n    prefix: PROCESSOR_PREFIX,\n    processors,\n};\n"],"mappings":"oIAAA,IAAAA,KAAA,CAAAC,OAAA,eAEA,KAAM,CAAAC,gBAAgB,CAAG,IAAI,CAI7B,KAAM,CAAAC,cAAc,CAAG,KAAK,CAC5B,KAAM,CAAAC,iBAAiB,CAAG,KAAK,CAC/B,KAAM,CAAAC,aAAa,CAAG,MAAM,CAE5B,KAAM,CAAAC,iBAAiB,CAAG,CACtBC,WAAW,CAAE,mBACjB,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAG,CACxBD,WAAW,CAAE,iBACjB,CAAC,CAED,KAAM,CAAAE,UAAU,CAAG,CACf,CAACN,cAAc,EAAG,CAACO,GAAG,CAAEC,SAAS,GAAK,CAElC,MAAO,IAAI,CAAAC,QAAQ,CAAC,GAAG,CAAE,qBAAqB,CAAGF,GAAG,CAAG,IAAI,CAAC,CAACC,SAAS,CAC1E,CAAC,CACD,CAACP,iBAAiB,EAAG,CAACM,GAAG,CAAEC,SAAS,GAAK,CACrCD,GAAG,CAAGA,GAAG,CAACG,IAAI,EAAE,CAChB,GAAIH,GAAG,CAAE,CACL,MAAO,CAAAI,OAAC,CAACC,QAAQ,CAACL,GAAG,CAAEJ,iBAAiB,CAAC,CAACK,SAAS,CACvD,CAEA,MAAO,CAAAD,GACX,CAAC,CACD,CAACL,aAAa,EAAG,CAACK,GAAG,CAAEC,SAAS,GAAK,CACjCD,GAAG,CAAGA,GAAG,CAACG,IAAI,EAAE,CAChB,GAAIH,GAAG,CAAE,CACL,MAAO,CAAAI,OAAC,CAACC,QAAQ,CAACL,GAAG,CAAEF,mBAAmB,CAAC,CAACG,SAAS,CACzD,CAEA,MAAO,CAAAD,GACX,CACJ,CAAC,CAAC,IAAAM,QAAA,CAEa,CACXC,MAAM,CAAEf,gBAAgB,CACxBO,UACJ,CAAC,CAAAS,OAAA,CAAAC,OAAA,CAAAH,QAAA,CAAAI,MAAA,CAAAF,OAAA,CAAAA,OAAA,CAAAC,OAAA"}